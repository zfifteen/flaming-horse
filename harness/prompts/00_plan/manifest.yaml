phase: plan

inputs:
  - topic: project_state.topic
  - constraints: scene_count(8-12), scene_duration(20-45), total_duration(240-480), id(scene_XX_slug)
  - style: non_math => explainer slide visuals
  - exclude: pipeline_overview, voice_policy, scene_codegen_rules

output:
  format: json_only
  file: plan.json
  required_fields:
    - title
    - description
    - target_duration_seconds
    - scenes[]
    - scenes[].id
    - scenes[].title
    - scenes[].narration_key
    - scenes[].description
    - scenes[].estimated_duration_seconds
    - scenes[].visual_ideas

validation:
  scene_id_pattern: "^scene_[0-9]{2}_[a-z0-9_]+$"
  scene_count: 8-12
  scene_duration_seconds: 20-45
  total_duration_seconds: 240-480
