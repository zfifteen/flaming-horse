===============================================================================
PROMPT INFRACTION AUDIT - EXECUTIVE SUMMARY
===============================================================================

Branch: development
Date: 2026-02-18
Full Report: PROMPT_INFRACTION_REPORT.md

POLICY
------
All prompts for the LLM backend should be in harness/prompt_templates/

FINDINGS
--------
✗ CRITICAL: 2 major infractions found
✗ Total: ~250 lines of embedded prompt content

INFRACTION #1: harness/prompts.py
----------------------------------
File contains 7+ embedded user prompt sections:
  • Plan phase user prompt (~14 lines)
  • Narration phase user prompt (~19 lines)  
  • Build scenes phase user prompt (~38 lines)
  • Scene QC phase user prompt (~13 lines)
  • Scene repair phase user prompt (~39 lines)
  • Training phase system prompt (~15 lines)
  • Training phase user prompt (~2 lines)

Impact: Prompts cannot be edited without modifying Python code
Recommendation: Extract all user prompts to template files

INFRACTION #2: docs/SCENE_QC_AGENT_PROMPT.md
---------------------------------------------
Documentation file contains full duplicate prompt (~80 lines)

Impact: Two sources of truth; synchronization risk
Recommendation: Consolidate into official template or remove

COMPLIANCE STATUS
-----------------
Current: ~50% (system prompts only)
Target: 100% (all prompt text)
Gap: ~250 lines requiring extraction

REMEDIATION PRIORITY
--------------------
[HIGH] Phase 1: Extract user prompts to templates
[MED]  Phase 2: Extract system prompt headers
[MED]  Phase 3: Consolidate documentation
[HIGH] Phase 4: Add validation tests

OUT OF SCOPE
------------
• AGENTS.md - GitHub Copilot agent prompt (not LLM backend)

NEXT STEPS
----------
1. Review full report: PROMPT_INFRACTION_REPORT.md
2. Implement Phase 1 remediation (user prompt extraction)
3. Add CI checks to prevent future infractions

===============================================================================
